# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ SSR —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

## üéØ –¶–µ–ª—å
–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Server-Side Rendering (SSR) —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç HTML –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: SSR —Å–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω!

**Laravel Inertia SSR —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ SSR —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω!**

### –ó–∞–ø—É—Å–∫ SSR —Å–µ—Ä–≤–µ—Ä–∞:

```bash
# –í Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker-compose -f docker-compose.local.yml exec app php artisan inertia:start-ssr

# –ò–ª–∏ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose -f docker-compose.local.yml exec -T app php artisan inertia:start-ssr > /dev/null 2>&1 &
```

## ‚úÖ –°–ø–æ—Å–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ SSR

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ curl (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –°–ø–æ—Å–æ–± 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ `<div id="app">`

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å User-Agent –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –±–æ—Ç–∞
curl -s -A "Googlebot/2.1" http://localhost:8116/catalog | grep -o '<div id="app"[^>]*>' | head -c 500

# –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ HTML –∫–æ–Ω—Ç–µ–Ω—Ç (–Ω–µ –ø—Ä–æ—Å—Ç–æ data-page="..."), –∑–Ω–∞—á–∏—Ç SSR —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **SSR —Ä–∞–±–æ—Ç–∞–µ—Ç**: –í–Ω—É—Ç—Ä–∏ `<div id="app">` –µ—Å—Ç—å HTML –∫–æ–Ω—Ç–µ–Ω—Ç (–∑–∞–≥–æ–ª–æ–≤–∫–∏, —Ç–µ–∫—Å—Ç, —Å—Å—ã–ª–∫–∏ –∏ —Ç.–¥.)
- ‚ùå **SSR –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –í–Ω—É—Ç—Ä–∏ `<div id="app">` —Ç–æ–ª—å–∫–æ `data-page="{...json...}"` –±–µ–∑ HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞

#### –°–ø–æ—Å–æ–± 2: –ü–æ–¥—Å—á–µ—Ç –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤

```bash
# –ü–æ–¥—Å—á–µ—Ç –≤—Ö–æ–∂–¥–µ–Ω–∏–π –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
curl -s -A "Googlebot/2.1" http://localhost:8116/catalog | grep -c "–ö–∞—Ç–∞–ª–æ–≥\|—Ç–æ–≤–∞—Ä\|product\|catalog"

# –ï—Å–ª–∏ —á–∏—Å–ª–æ > 0, –∑–Ω–∞—á–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
```

#### –°–ø–æ—Å–æ–± 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ HTML

```bash
# –†–∞–∑–º–µ—Ä HTML –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å > 100KB –ø—Ä–∏ SSR
curl -s -A "Googlebot/2.1" http://localhost:8116/catalog | wc -c

# –ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä < 10KB, –∑–Ω–∞—á–∏—Ç SSR –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (View Source)

**–í–∞–∂–Ω–æ:** –í –±—Ä–∞—É–∑–µ—Ä–µ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–µ—Ä—Å–∏—è, –∞ –Ω–µ SSR –≤–µ—Ä—Å–∏—è!

#### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
2. **–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí "–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã" (View Page Source)**
3. **–ù–∞–π–¥–∏—Ç–µ `<div id="app">`**

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **SSR —Ä–∞–±–æ—Ç–∞–µ—Ç**: –í–Ω—É—Ç—Ä–∏ `<div id="app">` –µ—Å—Ç—å HTML –∫–æ–Ω—Ç–µ–Ω—Ç
- ‚ùå **SSR –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –í–Ω—É—Ç—Ä–∏ `<div id="app">` —Ç–æ–ª—å–∫–æ `data-page="{...json...}"`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ JSON, —ç—Ç–æ –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å:
- SSR —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω
- Laravel Inertia –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SSR –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –±–æ—Ç–æ–≤)
- –ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `laravel/check-ssr.sh` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏
./laravel/check-ssr.sh

# –ò–ª–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º URL
./laravel/check-ssr.sh http://localhost:8116/catalog
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ SSR —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞, –∑–∞–ø—É—â–µ–Ω –ª–∏ SSR —Å–µ—Ä–≤–µ—Ä
docker-compose -f docker-compose.local.yml exec app bash -c "ps aux | grep -E '(inertia|ssr|node)' | grep -v grep"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ SSR —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω –≤ foreground)
docker-compose -f docker-compose.local.yml exec app php artisan inertia:start-ssr
```

## üîç –ü–æ—á–µ–º—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ JSON?

### –ü—Ä–∏—á–∏–Ω–∞ 1: SSR —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ SSR —Å–µ—Ä–≤–µ—Ä:
```bash
docker-compose -f docker-compose.local.yml exec app php artisan inertia:start-ssr
```

### –ü—Ä–∏—á–∏–Ω–∞ 2: Laravel Inertia –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SSR —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, Laravel Inertia –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSR —Ç–æ–ª—å–∫–æ –¥–ª—è:
- –ü–æ–∏—Å–∫–æ–≤—ã—Ö –±–æ—Ç–æ–≤ (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ User-Agent)
- –ü–µ—Ä–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–Ω–µ –¥–ª—è AJAX –∑–∞–ø—Ä–æ—Å–æ–≤)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ curl —Å User-Agent –±–æ—Ç–∞:
```bash
curl -s -A "Googlebot/2.1" http://localhost:8116/catalog | grep -o '<div id="app"[^>]*>' | head -c 500
```

### –ü—Ä–∏—á–∏–Ω–∞ 3: –ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞

**–†–µ—à–µ–Ω–∏–µ:** –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ.

### –ü—Ä–∏—á–∏–Ω–∞ 4: SSR –±–∞–Ω–¥–ª –Ω–µ —Å–æ–±—Ä–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å SSR:
```bash
docker-compose -f docker-compose.local.yml exec app npm run build:ssr
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: SSR —Ä–∞–±–æ—Ç–∞–µ—Ç vs –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### SSR —Ä–∞–±–æ—Ç–∞–µ—Ç:
```html
<div id="app" data-page="{...json...}">
    <!-- –ü–û–õ–ù–´–ô HTML –ö–û–ù–¢–ï–ù–¢ –ó–î–ï–°–¨ -->
    <header>...</header>
    <main>...</main>
    <section>...</section>
    <!-- –í–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –≤–∏–¥–µ–Ω –≤ –∏—Å—Ö–æ–¥–Ω–æ–º HTML -->
</div>
```

### SSR –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```html
<div id="app" data-page="{...json...}">
    <!-- –ü—É—Å—Ç–æ, –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç -->
</div>
```

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ SSR

- [ ] SSR —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (`php artisan inertia:start-ssr`)
- [ ] SSR –±–∞–Ω–¥–ª —Å–æ–±—Ä–∞–Ω (`npm run build:ssr`)
- [ ] Laravel –∫–µ—à –æ—á–∏—â–µ–Ω (`php artisan cache:clear`)
- [ ] –í curl —Å User-Agent –±–æ—Ç–∞ –≤–∏–¥–µ–Ω HTML –∫–æ–Ω—Ç–µ–Ω—Ç
- [ ] –†–∞–∑–º–µ—Ä HTML > 100KB
- [ ] –í –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –µ—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ `<div id="app">`

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ SSR —Å–µ—Ä–≤–µ—Ä
docker-compose -f docker-compose.local.yml exec app php artisan inertia:start-ssr > /dev/null 2>&1 &

# 2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 3 —Å–µ–∫—É–Ω–¥—ã
sleep 3

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ curl
curl -s -A "Googlebot/2.1" http://localhost:8116/catalog | grep -o '<div id="app"[^>]*>' | head -c 500

# –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ HTML –∫–æ–Ω—Ç–µ–Ω—Ç - SSR —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ
# –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ data-page - SSR –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚ùå
```
