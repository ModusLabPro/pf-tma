<template>
  <SelectButton
    unstyled
    :pt="theme"
    :ptOptions="{
      mergeProps: ptViewMerge,
    }"
  >
    <template v-for="(_, slotName) in $slots" v-slot:[slotName]="slotProps">
      <slot :name="slotName" v-bind="slotProps ?? {}" />
    </template>
  </SelectButton>
</template>

<script setup lang="ts">
import type { SelectButtonPassThroughOptions, SelectButtonProps } from 'primevue/selectbutton';

import SelectButton from 'primevue/selectbutton';
import { ref } from 'vue';

import { ptViewMerge } from './utils';

interface Props extends /* @vue-ignore */ SelectButtonProps {}
defineProps<Props>();

const theme = ref<SelectButtonPassThroughOptions>({
  root: `inline-flex select-none rounded-20 gap-2 flex-wrap
        p-invalid:outline p-invalid:outline-offset-0 p-invalid:outline-red-400 dark:p-invalid:outline-red-300`,
  pcToggleButton: {
    root: `inline-flex items-center justify-center overflow-hidden relative cursor-pointer select-none grow
            border border-input dark:border-surface-950
            rounded-20 bg-input dark:bg-surface-950
            text-text dark:text-surface-400
            p-checked:text-white dark:p-checked:text-surface-0
            text-mob-small-reg h-12
            focus-visible:outline focus-visible:outline-1 focus-visible:outline-offset-2 focus-visible:outline-primary focus-visible:relative focus-visible:z-10
            disabled:cursor-default
            disabled:bg-surface-200 disabled:border-surface-200 disabled:text-surface-500
            disabled:dark:bg-surface-700 disabled:dark:border-surface-700 disabled:dark:text-surface-400
            p-invalid:border-red-400 dark:p-invalid:border-red-300
            transition-colors duration-100
            p-small:text-sm p-large:text-lg
        `,
    content: `relative flex-auto inline-flex items-center justify-center gap-2 py-3.5 px-4
            rounded-md transition-colors duration-200 group
            p-checked:bg-text dark:p-checked:bg-surface-800 p-checked:shadow-[0px_1px_2px_0px_rgba(0,0,0,0.02),0px_1px_2px_0px_rgba(0,0,0,0.04)]`,
    icon: ``,
    label: ``,
  },
});
</script>
